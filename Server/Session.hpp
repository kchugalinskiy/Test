#pragma once

#include <boost/asio.hpp>

namespace Server
{
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class RequestProcessor;
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class Session : public std::enable_shared_from_this<Session>
{
public:
    Session(boost::asio::ip::tcp::socket socket);

	void Start( RequestProcessor *processor );

private:
    void ReadNextNumber();
    void WriteResponse();

    boost::asio::ip::tcp::socket clientSocket;
    int inputData;
	double outputData;
	RequestProcessor *requestProcessor;
};
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
} // namespace Server